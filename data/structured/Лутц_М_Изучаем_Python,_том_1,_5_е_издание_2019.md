


5-е издание Изучаем Python FIFTH EDITION Learning Python Mark Lutz Beijing • Boston • Farnham • Sebastopol «Tokyo O’REILLY 5-е издание Изучаем Python Том 1 Марк Лутц Москва • Санкт-Петербург 2019 ББК 32.973.26-018.2.75

Л86 УДК 681.3.07 ООО “Диалектика” Зав. редакцией С.Н. Тригуб Перевод с английского и редакция Ю.Н. Артеменко По общим вопросам обращайтесь в издательство “Диалектика” по адресу: info@dialektika.com, http://www.dialektika.com

Лутц, Марк. Л86 Изучаем Python, том 1, 5-е изд.: Пер. с англ. — СПб.: ООО “Диалектика”, 2019. — 832 с. : ил. — Парад, тит. англ. ISBN 978-5-907144-52-1 (рус., том 1) ISBN 978-5-907144-51-4 (рус., многотом.)

ББК 32.973.26-018.2.75 Все названия программных продуктов являются зарегистрированными торговыми марками соответствую­ щих фирм. Никакая часть настоящего издания ни в каких целях не может быть воспроизведена в какой бы то ни было

форме и какими бы то ни было средствами, будь то электронные или механические, включая фотокопирование и запись на магнитный носитель, если на это нет письменного разрешения издательства О’Reilly&Associates.

Authorized Russian translation of the English edition of Learning Python, 5th Edition (ISBN 978-1-449-35573-9) © 2013 Mark Lutz. This translation is published and sold by permission of O’Reilly Media, Inc., which owns or controls all rights to

publish and sell the same. All rights reserved. No part of this work may be reproduced or transmitted in any form or by any means, electronic or mechanical, including photocopying, recording, or by any information storage or retrieval system, without the prior

written permission of the copyright owner and the Publisher. Нау^сно-популярное издание Марк Лутц Изучаем Python, том 1 5-е издание Подписано в печать 05.06.2019. Формат 70x100/16. Гарнитура Times. Усл. печ. л. 55. Уч.-изд. л. 67,08.

Тираж 500 экз. Заказ № 5983. Отпечатано в АО “Первая Образцовая типография” Филиал “Чеховский Печатный Двор” 142300, Московская область, г. Чехов, ул. Полиграфистов, д. 1 Сайт: www.chpd.ru. E-mail: sales@chpd.ru, тел. 8 (499) 270-73-59

ООО “Диалектика”, 195027, Санкт-Петербург, Магнитогорская ул., д. 30, лит. А, пом. 848 © 2019, ООО “Диалектика” ISBN 978-5-907144-52-1 (рус., том 1) ISBN 978-5-907144-51-4 (рус., многотом.) ISBN 978-1-449-35573-9 (англ.)

©2013 Mark Lutz Оглавление Часть I. Начало работы 39 ГЛАВА 1. Python в вопросах и ответах 40 ГЛАВА 2. Как Python выполняет программы 64 Г Л А В А 3. Как пользователь выполняет программы 78 Часть II. Типы и операции

Г Л А В А 4. Введение в типы объектов Python ГЛАВА 5. Числовые типы Г Л А В А 6. Кратко о динамической типизации Г Л А В А 7. Фундаментальные основы строк Г Л А В А 8. Списки и словари Г Л А В А 9. Кортежи, файлы и все остальное

125 126 165 207 219 268 802 Часть III. Операторы и синтаксис ГЛАВА 10. Введение в операторы Python ГЛАВА 11. Операторы присваивания, выражений и вывода ГЛАВА 12. Проверки if и правила синтаксиса ГЛАВА 13. Циклы while и for

ГЛАВА 14. Итерации и включения ГЛАВА 15. Документация 343 344 362 394 410 438 466 Часть IV. Функции и генераторы ГЛАВА 16. Основы функций ГЛАВА 17. Области видимости ГЛАВА 18. Аргументы ГЛАВА 19. Расширенные возможности функций

Г Л А В А 20. Включения и генераторы Г Л А В А 21. Оценочные испытания 491 492 504 541 571 598 645 Часть V. Модули и пакеты Г Л А В А 22. Модули: общая картина Г Л А В А 23. Основы написания модулей Г Л А В А 24. Пакеты модулей

Г Л А В А 25. Расширенные возможности модулей ПРИЛОЖЕНИЕ. Решения упражнений, приводимых в конце частей 683 684 702 720 758 794 Предметный указатель 819 5 Содержание Об авторе 21 Об иллюстрации на обложке

Предисловие “Экосистема” этой книги О пятом издании Линейки Python 2.Х и Python З.Х Современная история Python 2.Х/З.Х Раскрытие линеек Python З.Х и Python 2.Х Какая версия Python должна использоваться?

Предпосылки и усилия Структура этой книги Чем эта книга не является Это не справочник и не руководство по специфическим приложениям Это не краткая история д ля спешащих людей Изложение последовательно до той степени, до которой позволяет Python

Программы в книге Версии Python Платформы Загрузка кода примеров для книги Использование кода, сопровождающего книгу Соглашения, используемые в этой книге Ждем ваших отзывов! Благодарности Предыстория Благодарности Python

Личные благодарности 21 22 22 23 25 25 26 27 28 29 32 32 33 33 34 34 35 35 35 36 36 37 37 37 38 Часть 1. Начало работы ГЛАВА 1. Python в вопросах и ответах Почему7 люди используют Python? Качество программного обеспечения

Продуктивность труда разработчиков Является ли Python “языком написания сценариев”? Хорошо, но в чем недостаток? Кто использует Python в наши дни? Что можно делать с помощью Python? Системное программирование

Графические пользовательские интерфейсы Написание сценариев для Интернета Интеграция компонентов Программирование для баз данных Быстрое прототипирование Численное и научное программирование 39 40 40 42

42 43 44 46 48 48 49 49 50 50 51 51 6 Содержание И еще: игры, изображения, глубинный анализ данных, роботы, электронные таблицы Excel... 52 Как Python разрабатывается и поддерживается? 53 Компромиссы, связанные с открытым кодом

53 Каковы технические превосходства Python? 54 Он объектно-ориентированный и функциональный 54 Он бесплатный 55 Он переносимый 55 Он мощный 56 Он смешиваемый 57 Он относительно прост в использовании 57

Он относительно прост в изучении 58 Он назван в честь группы “Монти Пайтон” 58 Как Python соотносится с языком X? 59 Резюме 60 Проверьте свои знания: контрольные вопросы 61 Проверьте свои знания: ответы

61 Г Л А В А 2. Как Python выполняет программы 64 Введение в интерпретатор Python 64 Выполнение программ 66 Точка зрения программиста 66 Точка зрения Python 67 Разновидности модели выполнения 70 Альтернативные реализации Python

70 Инструменты оптимизации выполнения 73 Фиксированные двоичные файлы 75 Будущие возможности? 76 Резюме 76 Проверьте свои знания: контрольные вопросы 77 Проверьте свои знания: ответы 77 Г Л А В А 3. Как пользователь выполняет программы

78 Интерактивная подсказка 78 Запуск интерактивного сеанса 79 Пуги поиска в системе 81 Новые возможности для Windows в версии Python 3.3: переменная среды PATH и запускающий модуль 81 Где выполнять: каталоги для кода

82 Что не набирать: приглашения к вводу и комментарии 83 Интерактивное выполнение кода 84 Для чего нужна интерактивная подсказка? 85 Замечания по использованию: интерактивная подсказка 87 Командная строка системы и файлы

89 Первый сценарий 90 Запуск файлов в командной строке 91 Варианты использования командной строки 92 Замечания по использованию: командная строка и файлы 93 Содержание 7 Исполняемые сценарии в стиле Unix: # !

94 Основы сценариев Unix 94 Трюк с поиском посредством env в Unix 95 Запускающий модуль для Windows в версии Python 3.3: # ! приходит в Windows 95 Щелчки на значках файлов 97 Основы щелчков на значках 97

Щелчки на значках в Windows 98 Трюк с использованием функции input в Windows Другие ограничения, связанные со щелчками на значках Импортирование и повторная загрузка модулей Основы импортирования и повторной загрузки

Дополнительная история о модулях: атрибуты Замечания по использованию: import и reload Использование ехес для выполнения файлов модулей Пользовательский интерфейс IDLE Детали запуска IDLE Базовое использование IDLE

Удобные функциональные возможности IDLE Расширенные инструменты IDLE Замечания по использованию: IDLE Другие IDE-среды Другие варианты запуска Встраивание вызовов Фиксированные двоичные исполняемые файлы

Варианты запуска из текстовых редакторов Прочие варианты запуска Будущие возможности? Какой вариант должен использоваться? Резюме Проверьте свои знания: контрольные вопросы Проверьте свои знания: ответы

Проверьте свои знания: упражнения для части I 99 101 101 101 103 106 107 108 109 по 111 112 112 114 116 116 117 117 117 118 118 120 120 121 122 Часть II. Типы и операции 125 Г Л А В А 4. Введение в типы объектов Python

126 Концептуальная иерархия Python 126 Для чего используются встроенные типы? 127 Основные типы данных Python 128 Числа 130 Строки 131 Операции над последовательностями 132 Неизменяемость 134 Методы, специфичные для типа

135 Получение справки 136 Другие способы написания строк 137 Строки Unicode 138 Сопоставление с образцом 141 8 Содержание Списки 141 Операции над последовательностями 141 Операции, специфичные для типа

142 Контроль границ 142 Вложение 143 Списковые включения 144 Словари 146 Операции над отображениями 146 Снова о вложении 147 Недостающие ключи: проверки if 149 Сортировка ключей: циклы for 150 Итерация и оптимизация

152 Кортежи 153 Для чего используются кортежи? 154 Файлы 154 Файлы с двоичными байтами 155 Файлы с текстом Unicode 156 Другие инструменты, подобные файлам 158 Прочие основные типы 158 Как нарушить гибкость кода

160 Классы, определяемые пользователем 161 Все остальное 162 Резюме 162 Проверьте свои знания: контрольные вопросы 163 Проверьте свои знания: ответы 163 Г Л А В А 5. Числовые типы 165 Основы числовых типов

165 Числовые литералы 166 Встроенные инструменты для обработки объектов чисел 168 Операции выражений Python 168 Числа в действии 173 Переменные и базовые выражения 173 Форматы числового отображения 175

Сравнения: нормальные и сцепленные 176 Деление: классическое, с округлением в меньшую сторону и настоящее 178 Точность целых чисел 182 Комплексные числа 183 Шестнадцатеричная, восьмеричная и двоичная формы записи:

литералы и преобразования 183 Побитовые операции 185 Другие встроенные инструменты для обработки чисел 187 Другие числовые типы 189 Десятичные типы 189 Дробный тип 192 Множества 195 Булевские значения 203

Численные расширения 204 Резюме 205 Содержание 9 Проверьте свои знания: контрольные вопросы 205 Проверьте свои знания: ответы 205 Г Л А В А 6. Кратко о динамической типизации 207 Случай отсутствия операторов объявления

207 Переменные, объекты и ссылки 208 Типы обитают в объектах, не в переменных 210 Объекты подвергаются сборке мусора 210 Разделяемые ссылки 212 Разделяемые ссылки и изменения на месте 214 Разделяемые ссылки и равенство

215 Динамическая типизация вездесуща 217 Резюме 218 Проверьте свои знания: контрольные вопросы 218 Проверьте свои знания: ответы 218 Г Л А В А 7. Фундаментальные основы строк 219 Вопросы, раскрываемые в главе

219 Unicode: краткая история 220 Основы строк 220 Строковые литералы 222 Строки в одинарных и двойных кавычках являются одинаковыми 223 Управляющие последовательности представляют специальные символы 223

Неформатированные строки подавляют управляющие последовательности 227 Утроенные кавычки представляют многострочные блочные строки 228 Строки в действии 230 Базовые операции 230 Индексация и нарезание 231

Инструменты преобразования строк 235 Изменение строк, часть I 238 Строковые методы 239 Синтаксис вызова методов 239 Методы строк 240 Примеры строковых методов: изменение строк, часть II 241 Примеры строковых методов: разбор текста

