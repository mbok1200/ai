


ФишЕРмдн Л. В. 11 Практическое руководство Управление и контроль версий в разработке программного обеспечения "Наука и Техника" Санкт-Петербург УДК ОО4.42 ББК 32.973 Фишерман Л. В. G1т. ПРАКТИЧЕСКОЕ РУКОВОДСТВО. УПРАВЛЕНИЕ И КОНТРОЛЬ ВЕРСИЙ В

РАЗРАБОТКЕ ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ - СПБ.: НАУКА и ТЕХНИКА, 2021. - 304 с., ил. ISBN 978-5-94387-547-2 Git в настоящее время нужен практически всем программистам, которые занимаются разработкой программного обеспечения. Git

- это система управления версиями, с помощью которой вы сможете вести и контроли­ ровать разработку нескольких версий одного приложения, осуществлять совместную разработку одного приложения несколькими разработчиками

(учитывать изменения, которые делаются на том или ином шаге разработки тем или иным разработчиком). С помощью системы Git у вас будет полная иерархия всех версий программного кода разрабатываемого приложения.

Данная книга представляет собой подробное практическое руководство по Git, в котором описывается Git и приводится разбор конкретных ситуаций и применений, например, как изменения из одной ветки разработки вклю­

чить в другую ветку, но не все. Изложение начинается с самых азов, ника­ кой предварительной подготовки не требуется: по ходу изложения даются все необходимые определения и пояснения. Лучший выбор, чтобы освоить

Git и максимально быстро начать его применять на практике. Все права защищены. Никакая часть данной книги не может быть воспроизведена в какой бы то ни было форме без nись- менноrо разрешения владельцев авторских прав.

Издательство не несет ответственности за доступность материалов, ссылки на которые вы можете найти в этой книге. На момент подготовки книги к изданию все ссылки на интернет-ресурсы были действующими. ISBN 978-5-94387-547-2

9 78- 5- 94387- 547- 2 Контактные телефоны издательства: (812)4127026 Официальный сайт: ww.nit.com.ru © Фишерман Л. В. © Наука и Техника (оригинал-макет) Содержание ГЛАВА 1 . ВВЕДЕНИЕ В GIT ....................................... 9

## 1. НЕОБХОДИМОСТЬ РЕЗЕРВНОГО КОПИРОВАНИЯ .•••.•.••.••.••.•....•.... 1 О 1.2. ЭТАПЫ РАЗВИТИЯ ......•.••.••.•.••.••••...............••.••.•...••••.••••.••.•..... 11 1.3. ЧТО В ИМЕНИ ТВОЕМ? •.•...............•..•.••.•..••.•.••.•••.••.•..••••.•......... 12


ГЛАВА 2. УСТАНОВКА GIT ........................ " ............ 13 2.1. ИСПОЛЬЗОВАНИЕ ДВОИЧНЫХ ДИСТРИБУТИВОВ LINUX •.•.••.••.•••••.• 14 DeЬian/Ubuntu . . .. . . .... . .... . . ............. " ............................................ 15

Другие дистрибутивы ................................................................. 16 2.2. ПОЛУЧЕНИЕ ИСХОДНОГО КОДА ....••..•..•.••.••...........•..•................ 17 2.3. СБОРКА И УСТАНОВКА .••.•.....•..•.........•.......•.••..•...........•.••.••.•..•• 18

## 1. НЕОБХОДИМОСТЬ РЕЗЕРВНОГО КОПИРОВАНИЯ .•••.•.••.••.••.•....•.... 1 О 1.2. ЭТАПЫ РАЗВИТИЯ ......•.••.••.•.••.••••...............••.••.•...••••.••••.••.•..... 11 1.3. ЧТО В ИМЕНИ ТВОЕМ? •.•...............•..•.••.•..••.•.••.•••.••.•..••••.•......... 12
### УСТАНОВКА GIT В WINDOWS ...........•..•.••.••.••.••••...•.••.••.•.••.••.••.••. 20 Установка пакета Cygwin Git ....... " ....... "" ... " ........... " .. "."" .. "" .. 21 Установка msysGi t .. "".".""." ................................................. " .. 22

ГЛАВА 3. НАЧАЛО ИСПОЛЬЗОВАНИЯ ...................... 25 3. 1 . КОМАНДНАЯ СТРОКА GIT .••.•.....•..••........•..............•..•.•.............. 26 3.2. БЫСТРОЕ ВВЕДЕНИЕ В GIT .•.••.••...••••..•.•..•.••.••.•.•.••.•.••.••.•.••.••.••• 29

Создание начального репозитария . . .. ... . . . . . ... .. . .. ....... . .. . .. .. . . .. .. . . .  29 Добавление фай лов в ваш репозитарий " .. . .... ""."." .... "."." .. " .. 30 Неясные сообщения об ошибках."."."." ...... " .......... "."." .... """32

Настрой ка автора коммита (фиксации) .. . " .. "." .... "." .. "" ......... "32 Вносим другой коммит (фиксацию ) ............ " ... " ....... " ................ 33 Просмотр ваших фиксаций . . "" .. " ... "." .. " .................... "."."."".33

Просмотр разницы между коммитами (фиксациями) . .. . . . . .. . .. . .. . .  35 Удаление и переименование фай лов в вашем репозитарии . .. . .  "36 Копирование вашего репозитария . . .. .. "" ". " ............. "" "" .. " .. ".37

## 1. НЕОБХОДИМОСТЬ РЕЗЕРВНОГО КОПИРОВАНИЯ .•••.•.••.••.••.•....•.... 1 О 1.2. ЭТАПЫ РАЗВИТИЯ ......•.••.••.•.••.••••...............••.••.•...••••.••••.••.•..... 11 1.3. ЧТО В ИМЕНИ ТВОЕМ? •.•...............•..•.••.•..••.•.••.•••.••.•..••••.•......... 12
### ФАЙЛЫ КОНФИГУРАЦИИ .•......•.. . .•.•.....••••.•.........••••.••••••........... 38 Настрой ка псевдонимов . " ...... " ....... "." .... " " ......... " .... " ......... " .40 Резю ме ............................................. " ...... " .. " ........... " .......... " .. 41

• . ---- - ---- - --- - - ------- --- - - - - - - - - - - - --- - -- - - - --- - ---- - - - - - -------- - . - - - - . ---- - -- ... Git. Практическое руководство ГЛАВА 4. БАЗОВЫЕ ПОНЯТИЯ GIT ...................... " .. 42

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44


Индекс ............................................................................... " ...... 46 Глобально уникальные идентификаторы "" ". ". """" ". ". ". """" .47 Git отслеживает контент" ". ". ". """" ". ". "."" ". ". ". "." ". ". """. "47

Путь по сравнению с содержанием . "" "". """" "".""" "" """"" .48 Расk-фай лы ...... ......................................................................... 49 4.2. ИЗОБРАЖЕНИЯ ХРАНИЛИЩА ОБЪЕКТОВ .••.••••.•.•••••••••••••.•••••.•••.•• 50

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ПОНЯТИЯ GIT В ДЕЙСТВИИ ••••••.•••.••.. " ...• "." ••.••.•• " ..••.•••••••.••••••• 53 Внутри каталога .git .................................................................... 53 Объекты, х эши, блобы.""."."." "." .. ""." .. "."."."."."."."."""" .. 55

Откуда мы знаем, что х эш SHA1 уникален?"""."." """ """"" "."55 Фай лы и деревья."." ""."."."."." " .. "."." .. "" .. ".".""."" .. ""."".56 Примечание относительно использования SHA 1 """ " ". "" "" " ". 57

Иерархия деревьев .................................................................... 59 Фиксации .................... " ............................................................. 60 Теги """.".".".".""."." ""."."."."."."."."""."."" .. ".""."."" ." .. 62

ГЛАВА 5. УПРАВЛЕНИЕ ФАЙЛАМИ. ИНДЕКС ............. 65 5.1. ВСЕ ОБ ИНДЕКСЕ ...... " ...•....•..•••.••••.••.••.•.••.••••••.•••.•.••.........•..... 67 5.2. КЛАССИФИКАЦИЯ ФАЙЛОВ В GIT •• "". ". " . • . . . . .  " .... " • • •.•••.••••.••.•••. 68

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ПРОБЛЕМЫ С ОТСЛЕЖИВАНИЕМ ПЕРЕИМЕНОВАНИЯ •.•••••••..•.. " .... 81 5.9. ФАЙЛ .GITINGNORE .............•....•..••.••.•..•.••.•.•.....•...........•••••..••.• 82 • " .......................................... ......................... .............. .

Содержание ГЛАВА б. КОММИТЫ (ФИКСАЦИИ) .......................... 85 6.1. АТОМАРНЫЕ НАБОРЫ ИЗМЕНЕНИЙ """" """ ".""" """" """" "". 87 6.2. ИДЕНТИФИКАЦИЯ ФИКСАЦИЙ"""."".".""."."." .. " ... "."." ... "". 88

Абсолю тные имена фиксации ....... "." .... " .. "."" ""." ." .. " ........... 89 Ссылки и символьные ссылки . . . . . . . . . . . .. . . . .... .......... ..... . . . . . . . .. . .. . . . . .  90 Относительные имена фиксаций ........... . . . .. .... ............ ..... . . . . .. ..... 92

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ИСТОРИЯ ФИКСАЦИЙ.".""."."." .. "."" .... ""."."""."."".""." ... 95 Просмотр старых фиксаций .......... . . ............. . . . . . . . . . . . .. ................. 95 Графы фиксации ... ...... ..... ......... ............ ... .... .... .. .................. . . . . . .  98

Использование git k для просмотра графа фиксации ................ 102 Диапазоны фиксаций ..... .. .. ............ ........ ......... . . . . . . . . ................. 103 6.4. ДОСТИЖИМОСТЬ В ГРАФАХ ." ... """.".".""."."""".".""."."." 104

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ПОИСК ФИКСАЦИЙ . ".""."." ... "" "."." ". ".".". ". ".".".""." " .. 108 Использование git Ьisec t ............... ..... .................. .................... 108 Использование git Ыаmе ......... . .. ......... . . . . . . .... . .......................... 114

Использование Pic kaxe ..... . . . . . . . . . . ..... . . . . . . . . . . . .. . ............ ...... . . . .. . . .  115 ГЛАВА 7. ВЕТКИ В GIT ......................................... 117 7. 1. ПРИЧИНЫ ИСПОЛЬЗОВАНИЯ ВЕТОК """"""""""""".""""""" 118

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ПРОСМОТР ВЕТОК ."" ...... "."".""."" .. ""."" .. " .. "".".""."." .. 125 7. 7. ПЕРЕКЛЮЧЕНИЕ ВЕТОК И ВЫГРУЗКА ФАЙЛОВ "" .. " """" """ "". 128 Базовое переклю чение между ветками . . . . . . .. .. ............... ... . . . . . . . .  128

Переклю чение веток прИ имею щихся незафиксированных изменениях .. . . . . ..... . . . ... ................... ........... . . . . . . . . ....... . . . . . . ......... . 129 Объединение изменений в другую ветку ...... ............................ 131

Создание новой ветки и переклю чение на нее . ......... . ... . .. . . . . . .. . 133 Отсоединение головы ветки .................. ........ .. . . . . . ................. ... 135 • . -.. - -... --. - - -.

-. - - - - - --- - --.. -... - -.. - - -. -- -. - ---. ---. ---. - ---.. ---. ----- - -.. - --- Git. Практическое руководство 7 .8. УДАЛЕНИЕ ВЕТОК • • . • • ...... • • ...•.... • • . . • . • • • • • . • . • • . • . • ..• . • • • . • • • . • • . • • . • . • . • .. 136

ГЛАВА 8. РАЗЛИЧИЯ В GIT . . . . . . . . . . . . . . . . . . . . . . . . . . • . . . .  ". 139 8.1. ФОРМЫ КОМАНДЫ GIT DI FF . . .. • ... . • .. • • • . . • • . • • • • • . . • .. • . • • . . • . . . . . . . . . . • . ... 141

## 1. БАЗОВЫЕ ПОНЯТИЯ ..................•...•.••.••••..•.••.••••••..••••..•.••......... 43 Репозитарии ...................................................................... " ...... 44 Типы объектов Git ....................................................................... 44
### ПРИМЕРЫ СЛИЯНИЯ . . • ..• . • • . • .. . • . ...... . . • .. . . • ..• • • .. . . • . • . • . . • • . • • . • . • • . • . • . •  159 Подготовка к слиянию ............................................... " .. " .. "." .. 159

Объединение двух веток . " .... " ... " ... " .. " .......... ""."."." ..... " ..... 160 Слияние с конфликтом .. " .... " ................. ""." .. "."." ...... " ...... ". 162 9.2. РАБОТА С КОНФЛИКТАМИ СЛИЯНИЯ . • • . • .. • .. • . • . • . • • • • • . • • . • .......• ....... 167

Обнаружение конфликтных файлов .... "."""."." .... " ............ " ... 168 Исследование конфликтов ....................................................... 169 git diff с конфликтами . ". "" ... "." ......... ""." .. "" ... ". """" """ "". 170

git log с конфликтами ""."." ... ".:"." .. " .. ".".""".""."" .. "."" .... 173 Как Git отслеживает конфликты .. "."." .. "." .. ""." .. ""." .. """" ... 175 Завершение разрешения конфликта"" " .. " .. "."""""""""."" .. 177

Отмена или перезапуск слияния """ " .............. """ "."" """"". 179 9.3. СТРАТЕГИИ СЛИЯНИЯ • . • . . • .. • • . • . • . • .. • • . • . . • .. • . • . . • . .. • . • • • . • .. • .. . .. . .. . . • . ... 179

Вырожденные слияния .. " ....... "" .. "."."." .. "."."."." ... "." .... "." 183 Обычные слияния." ..... ""." ................. """" .. ""."." .. " .. " ....... " 185 Рекурсивные слияния . ". "."."." ". " .. "." ..... " ....... " ................. " 185

